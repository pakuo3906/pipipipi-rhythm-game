# Beat Slice: Pipipipi Edition - 開発チェックリスト

## 開発前準備

### 📋 要件確認
- [ ] REQUIREMENTS.md の最新版確認
- [ ] TECHNICAL_SPEC.md の内容理解
- [ ] 譜面データ（222ノート）の検証
- [ ] 音楽ファイルの再生確認

### 🔧 開発環境準備
- [ ] Node.js 18+ インストール確認
- [ ] 必要なライブラリのバージョン確認（Context7使用）
- [ ] WebGL対応ブラウザでの動作確認
- [ ] 開発用音楽ファイルの配置

## Phase 1: 基本ゲームエンジン

### 🎵 音楽再生システム
- [ ] **Context7でTone.js最新情報を確認**
- [ ] Tone.js初期化とプレイヤー設定
- [ ] 音楽ファイル読み込み機能
- [ ] 再生・停止・一時停止機能
- [ ] 現在時刻の取得システム
- [ ] 音声遅延補正機能

### 🎮 Three.js基本設定
- [ ] **Context7でThree.js最新情報を確認**
- [ ] Scene、Camera、Renderer初期化
- [ ] 基本ライティング設定
- [ ] レーン位置の設定（A/S/D）
- [ ] 基本的なノート形状作成

### 📊 譜面読み込み
- [ ] JSON譜面データの読み込み
- [ ] 譜面データの検証（222ノート）
- [ ] ノート生成システム
- [ ] 時間順ソート確認

## Phase 2: マウス判定システム

### 🖱️ マウス入力処理
- [ ] マウス位置トラッキング
- [ ] マウス速度計算システム
- [ ] スライス判定（300px/s閾値）
- [ ] レーン別当たり判定

### ⏰ タイミング判定
- [ ] PERFECT判定（±50ms）
- [ ] GOOD判定（±100ms）
- [ ] MISS判定の実装
- [ ] Hold判定の実装

### 📈 スコアシステム
- [ ] スコア計算（PERFECT: 1000, GOOD: 500）
- [ ] コンボシステム
- [ ] 統計情報（Perfect/Good/Miss数）

## Phase 3: UI・HUD・エフェクト

### 🎨 UI Components
- [ ] **Context7でReact最新情報を確認**
- [ ] スコア表示コンポーネント
- [ ] コンボ表示システム
- [ ] 判定結果表示
- [ ] タイマー表示
- [ ] プレカウント機能

### ✨ エフェクト
- [ ] **Context7でGSAP最新情報を確認**
- [ ] ノートヒット時のエフェクト
- [ ] コンボ表示アニメーション
- [ ] 判定文字のアニメーション
- [ ] パーティクル効果

### 🎯 画面遷移
- [ ] タイトル画面
- [ ] ゲーム画面
- [ ] リザルト画面
- [ ] 画面間の遷移処理

## Phase 4: 設定・カリブレーション

### ⚙️ 設定画面
- [ ] 音量調整機能
- [ ] 音声遅延調整
- [ ] 判定調整機能
- [ ] キー設定（将来対応）

### 🎛️ カリブレーション
- [ ] 自動遅延検出
- [ ] 手動調整機能
- [ ] 設定保存機能

## Phase 5: 最適化・デプロイ

### 🚀 パフォーマンス最適化
- [ ] 60fps達成確認
- [ ] オブジェクトプール実装
- [ ] 不要オブジェクトの削除
- [ ] メモリリーク対策

### 📦 ビルド・デプロイ
- [ ] **Context7でWebpack/Vite最新情報を確認**
- [ ] 本番ビルド設定
- [ ] 音楽ファイル最適化
- [ ] Service Worker実装
- [ ] GitHub Pages / Vercel デプロイ

## 品質保証チェック

### 🧪 機能テスト
- [ ] 全222ノートの正常動作確認
- [ ] 判定精度テスト
- [ ] スコア計算の正確性
- [ ] 音楽同期の精度

### 🌐 ブラウザ対応
- [ ] Chrome 90+での動作確認
- [ ] Firefox 88+での動作確認
- [ ] Safari 14+での動作確認
- [ ] Edge 90+での動作確認

### 📊 パフォーマンス
- [ ] 60fps維持の確認
- [ ] 音声遅延50ms以内
- [ ] メモリ使用量512MB以下
- [ ] CPU使用率30%以下

## 各フェーズでの必須チェック

### Context7活用チェック
- [ ] 実装前にContext7でライブラリ最新情報確認
- [ ] 非推奨機能の使用避ける
- [ ] 最新のベストプラクティス適用
- [ ] セキュリティ情報の確認

### 要件準拠チェック
- [ ] REQUIREMENTS.mdとの整合性確認
- [ ] 仕様変更時の文書更新
- [ ] 実装内容の文書化
- [ ] パフォーマンス要件の達成

### コード品質チェック
- [ ] ESLint/Prettier設定
- [ ] TypeScript型定義
- [ ] コメント・文書化
- [ ] エラーハンドリング

## 完了判定基準

### 最小要件
- [ ] 222ノートすべて正常動作
- [ ] 音楽と映像の同期
- [ ] 基本的な判定システム
- [ ] スコア・コンボ表示

### 品質要件
- [ ] 60fps安定動作
- [ ] 音声遅延50ms以内
- [ ] 対象ブラウザすべてで動作
- [ ] エラーの適切な処理

### 完成要件
- [ ] 設定・カリブレーション機能
- [ ] 適切なUI/UXデザイン
- [ ] デプロイ可能状態
- [ ] 文書化完了

---

## 注意事項

### 🔍 Context7必須使用場面
- Three.js実装時
- Tone.js音楽再生実装時
- React コンポーネント作成時
- GSAP/anime.jsアニメーション実装時
- Webpack/Viteビルド設定時

### 📝 文書更新タイミング
- 仕様変更時
- 新機能追加時
- パフォーマンス要件変更時
- デプロイ前

### 🐛 デバッグポイント
- 音楽と映像の同期ずれ
- 判定タイミングの精度
- メモリリークの発生
- フレームレート低下

---
*更新日: 2025-07-09*
*バージョン: 1.2*